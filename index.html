<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>The Binding of Issac</title>
        <link rel="icon" type="image/x-icon" href="icon.png">
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }
            #ruffle {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div id="ruffle" style="text-align: center;"></div>
        <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
        <script>
            var swfobject = {};

            swfobject.embedSWF = function(url, cont) {
                var ruffle = window.RufflePlayer.newest(),
                    player = Object.assign(document.getElementById(cont).appendChild(ruffle.createPlayer()), {
                        width: window.innerWidth,
                        height: window.innerHeight,
                        style: 'width: 100%; height: 100%;',
                    });
                window.RufflePlayer.config = {
                    "publicPath": undefined,
                    "polyfills": true,
                    "autoplay": "on",
                    "unmuteOverlay": "hidden",
                    "backgroundColor": "#000000",
                    "letterbox": "fullscreen",
                    "warnOnUnsupportedContent": true,
                    "contextMenu": false,
                    "showSwfDownload": false,
                    "upgradeToHttps": window.location.protocol === "https:",
                    "maxExecutionDuration": {"secs": 15, "nanos": 0},
                    "logLevel": "error",
                    "base": null,
                    "menu": true,
                    "salign": "",
                    "scale": "showAll",
                    "quality": "medium",
                };

                player.load({ url: url });
            }

            window.onload = function() {
                swfobject.embedSWF('game.swf', 'ruffle');
            }

            window.onresize = function() {
                var player = document.querySelector('#ruffle iframe');
                if (player) {
                    player.style.width = window.innerWidth + 'px';
                    player.style.height = window.innerHeight + 'px';
                }
            };
        </script>
    </body>
</html>
